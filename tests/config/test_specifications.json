{
  "metadata": {
    "version": "1.0.0",
    "description": "Shared test specifications for pyfixest vs R fixest comparisons",
    "last_updated": "2025-09-23"
  },
  "data_generation": {
    "default_params": {
      "N": 1000,
      "seed": 2999
    },
    "feols_params": {
      "N": 1000,
      "seed": 2999,
      "model": "Feols"
    },
    "fepois_params": {
      "N": 1000,
      "seed": 2999,
      "model": "Fepois"
    },
    "glm_params": {
      "N": 100,
      "seed": 172
    }
  },
  "tolerance_settings": {
    "default": {
      "rtol": 1e-08,
      "atol": 1e-08
    },
    "fepois": {
      "rtol": 1e-04,
      "atol": 1e-04,
      "crv_rtol": 1e-03,
      "crv_atol": 1e-03
    },
    "glm": {
      "rtol": 1e-06,
      "atol": 1e-06
    }
  },
  "estimation_settings": {
    "iwls_maxiter": 25,
    "iwls_tol": 1e-08,
    "ssc_settings": {
      "adj": true,
      "cluster_adj": true
    }
  },
  "test_configurations": {
    "feols": {
      "formulas": [
        "Y~X1",
        "Y~X1+X2",
        "Y~X1|f2",
        "Y~X1|f2+f3",
        "Y ~ X1 + exp(X2)",
        "Y ~ X1 + C(f1)",
        "Y ~ X1 + i(f1, ref = 1)",
        "Y ~ X1 + C(f1)",
        "Y ~ X1 + i(f2, ref = 2.0)",
        "Y ~ X1 + C(f1) + C(f2)",
        "Y ~ X1 + C(f1) | f2",
        "Y ~ X1 + i(f1, ref = 3.0) | f2",
        "Y ~ X1 + C(f1) | f2 + f3",
        "Y ~ X1 + i(f1, ref = 1) | f2 + f3",
        "Y ~ X1 + i(f1) + i(f2)",
        "Y ~ X1 + i(f1, ref = 1) + i(f2, ref = 2)",
        "Y ~ X1 + X2:f1",
        "Y ~ X1 + X2:f1 | f3",
        "Y ~ X1 + X2:f1 | f3 + f1",
        "Y ~ X1 + i(f1,X2)",
        "Y ~ X1 + i(f1,X2) + i(f2, X2)",
        "Y ~ X1 + i(f1,X2, ref =1) + i(f2)",
        "Y ~ X1 + i(f1,X2, ref =1) + i(f2, X1, ref =2)",
        "Y ~ X1 + i(f2,X2)",
        "Y ~ X1 + i(f1,X2) | f2",
        "Y ~ X1 + i(f1,X2) | f2 + f3",
        "Y ~ X1 + i(f1,X2, ref=1.0)",
        "Y ~ X1 + i(f2,X2, ref=2.0)",
        "Y ~ X1 + i(f1,X2, ref=3.0) | f2",
        "Y ~ X1 + i(f1,X2, ref=4.0) | f2 + f3",
        "Y ~ X1 + I(X2 ** 2)",
        "Y ~ X1 + I(X1 ** 2) + I(X2**4)",
        "Y ~ X1*X2",
        "Y ~ X1*X2 | f1+f2",
        "Y ~ X1 + poly(X2, 2) | f1"
      ],
      "additional_formulas": [
        "log(Y) ~ X1",
        "Y~X1|f2^f3",
        "Y~X1|f1 + f2^f3",
        "Y~X1|f2^f3^f1"
      ],
      "empty_models": [
        "Y ~ 1 | f1",
        "Y ~ 1 | f1 + f2",
        "Y ~ 0 | f1",
        "Y ~ 0 | f1 + f2"
      ],
      "inference_types": [
        "iid",
        "hetero",
        {"CRV1": "group_id"}
      ],
      "weights": [null, "weights"],
      "dropna": [false, true],
      "f3_types": ["str"],
      "demeaner_backends": ["joblib"]
    },
    "iv": {
      "formulas": [
        "Y ~ 1 | X1 ~ Z1",
        "Y ~  X2 | X1 ~ Z1",
        "Y ~ X2 + C(f1) | X1 ~ Z1",
        "Y2 ~ 1 | X1 ~ Z1",
        "Y2 ~ X2 | X1 ~ Z1",
        "Y2 ~ X2 + C(f1) | X1 ~ Z1",
        "Y ~ 1 | f1 | X1 ~ Z1",
        "Y ~ 1 | f1 + f3 | X1 ~ Z1",
        "Y ~ 1 | f1^f2 | X1 ~ Z1",
        "Y ~  X2| f3 | X1 ~ Z1",
        "Y ~ 1 | X1 ~ Z1 + Z2",
        "Y ~ X2 | X1 ~ Z1 + Z2",
        "Y ~ X2 + C(f3) | X1 ~ Z1 + Z2",
        "Y ~ 1 | f1 | X1 ~ Z1 + Z2",
        "Y2 ~ 1 | f1 + f3 | X1 ~ Z1 + Z2",
        "Y2 ~  X2| f2 | X1 ~ Z1 + Z2"
      ],
      "inference_types": [
        "iid",
        "hetero",
        {"CRV1": "group_id"}
      ],
      "weights": [null, "weights"],
      "dropna": [false],
      "f3_types": ["str"]
    },
    "glm": {
      "formulas": [
        "Y ~ X1",
        "Y ~ X1 + X2",
        "Y ~ X1*X2",
        "Y ~ X1 + f1:X2"
      ],
      "families": ["probit", "logit", "gaussian"],
      "inference_types": [
        "iid",
        "hetero",
        {"CRV1": "group_id"}
      ],
      "dropna": [true, false]
    },
    "fepois": {
      "formulas": [
        "Y ~ X1",
        "Y ~ X1 + X2",
        "Y ~ X1 | f2",
        "Y ~ X1 | f2 + f3",
        "Y ~ X1 + C(f1)",
        "Y ~ X1 + i(f1, ref = 1)",
        "Y ~ X1 + C(f1) + C(f2)",
        "Y ~ X1 + C(f1) | f2",
        "Y ~ X1 + i(f1, ref = 3.0) | f2",
        "Y ~ X1 + C(f1) | f2 + f3",
        "Y ~ X1 + i(f1, ref = 1) | f2 + f3",
        "Y ~ X1 + i(f1) + i(f2)",
        "Y ~ X1 + i(f1, ref = 1) + i(f2, ref = 2)",
        "Y ~ X1 + X2:f1",
        "Y ~ X1 + X2:f1 | f3",
        "Y ~ X1 + X2:f1 | f3 + f1",
        "Y ~ X1 + i(f1,X2)",
        "Y ~ X1 + i(f1,X2) + i(f2, X2)",
        "Y ~ X1 + i(f1,X2, ref =1) + i(f2)",
        "Y ~ X1 + i(f1,X2, ref =1) + i(f2, X1, ref =2)",
        "Y ~ X1 + i(f2,X2)",
        "Y ~ X1 + i(f1,X2) | f2",
        "Y ~ X1 + i(f1,X2) | f2 + f3",
        "Y ~ X1 + i(f1,X2, ref=1.0)",
        "Y ~ X1 + i(f2,X2, ref=2.0)",
        "Y ~ X1 + i(f1,X2, ref=3.0) | f2",
        "Y ~ X1 + i(f1,X2, ref=4.0) | f2 + f3",
        "Y ~ X1 + I(X2 ** 2)",
        "Y ~ X1 + I(X1 ** 2) + I(X2**4)",
        "Y ~ X1*X2",
        "Y ~ X1*X2 | f1+f2",
        "Y ~ X1 + poly(X2, 2) | f1"
      ],
      "inference_types": [
        "iid",
        "hetero",
        {"CRV1": "group_id"}
      ],
      "weights": [null, "weights"],
      "dropna": [false, true],
      "f3_types": ["str"],
      "demeaner_backends": ["joblib"]
    }
  },
  "output_fields": {
    "core_results": [
      "coef",
      "se",
      "pvalue",
      "tstat",
      "confint_low",
      "confint_high",
      "vcov_00",
      "nobs",
      "n_coefs",
      "dof_k",
      "df_t"
    ],
    "extended_results": [
      "resid_first_5",
      "predict_first_5"
    ],
    "prediction_results": [
      "predict_all_fit",
      "predict_all_lwr",
      "predict_all_upr"
    ],
    "iv_specific": [
      "iv_first_stage_fstat",
      "iv_first_stage_pval"
    ]
  }
}
